<link rel="import" href="/bundles/nodecg-yendraws/bower_components/polymer/polymer-element.html">
<link rel="import" href="/bundles/nodecg-yendraws/bower_components/iron-list/iron-list.html">
<link rel="import" href="/bundles/nodecg-yendraws/bower_components/iron-icons/iron-icons.html">
<link rel="import" href="/bundles/nodecg-yendraws/bower_components/paper-input/paper-input.html">
<link rel="import" href="/bundles/nodecg-yendraws/bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="/bundles/nodecg-yendraws/bower_components/paper-button/paper-button.html">

<link rel="import" href="/bundles/nodecg-twitchie/dashboard/twitchie-styles/twitchie-styles.html">

<dom-module id="twitchie-social-media-editor">
  <template>
    <style include="twitchie-styles"></style>

    <style>
      .c-account-list {
        max-height: 10em;
        border-bottom: 1px solid #ccc;
        margin: 0 auto 1rem;
      }

      .c-account-list__account {
        padding: 0.5rem 0;
        border-bottom: 1px solid #ccc;
        font-size: 0.8em;
      }

      .c-account-list__account:last-child {
        border-bottom: none;
      }

      .c-account-list-field {
        display: flex;
        align-items: center;
        justify-content: space-between;
      }
    </style>

    <h4>Accounts</h4>

    <iron-list
      class="c-account-list"
      items="[[accounts]]"
      as="account"
    >
      <template>
        <div class="c-account-list__account">
          <div class="c-account-list-field">
            <span>
              <h5>
                {{account.service}}
              </h5>

              {{account.username}}
            </span>

            <paper-icon-button
              icon="icons:remove-circle-outline"
              on-tap="removeAccount"
            ></paper-icon-button>
          </div>
        </div>
      </template>
    </iron-list>

    <h4>Add new account</h4>

    <div class="c-field-group">
      <paper-input
        label="Service"
        value="{{newService}}"
        class="c-field-group__field c-flush-input"
      ></paper-input>

      <paper-input
        label="Username"
        value="{{newUsername}}"
        class="c-field-group__field c-flush-input"
      ></paper-input>
    </div>

    <paper-button
      raised
      on-tap="addAccount"
    >
      <iron-icon
        icon="icons:add"
      ></iron-icon>
      Add account
    </paper-button>
  </template>

  <script src="twitchie-social-media-editor.js"></script>
</dom-module>
